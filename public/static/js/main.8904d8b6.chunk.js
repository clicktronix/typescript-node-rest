(this["webpackJsonpsimple-rest-spa"]=this["webpackJsonpsimple-rest-spa"]||[]).push([[0],{124:function(e,t,n){"use strict";var r=n(183);n.d(t,"LocalStorage",(function(){return r.a}));var a=n(184);n.d(t,"MemoryStorage",(function(){return a.a}));n(185)},125:function(e,t,n){e.exports={Wrapper:"Layout_Wrapper__3uO9p",Content:"Layout_Content__1FFbA",Footer:"Layout_Footer__20rqT"}},126:function(e,t,n){e.exports={Button:"Header_Button__HX-KD"}},158:function(e,t,n){e.exports={SignUpForm:"SignUpUser_SignUpForm__3Od4a",SubmitButton:"SignUpUser_SubmitButton__823qS"}},183:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),a=n(13),o=function(){function e(){Object(r.a)(this,e),this.isLocalStorageAvailable=null,this.isLocalStorageAvailable=e.checkAvailability()}return Object(a.a)(e,null,[{key:"checkAvailability",value:function(){try{return localStorage.setItem("__test__","__test-value__"),localStorage.removeItem("__test__"),!0}catch(e){return console.error(e),!1}}}]),Object(a.a)(e,[{key:"set",value:function(e,t){this.isLocalStorageAvailable&&localStorage.setItem(e,JSON.stringify(t))}},{key:"get",value:function(e,t){var n=t;if(!this.isLocalStorageAvailable)return n;var r=localStorage.getItem(e);try{n=r?JSON.parse(r):t}catch(a){console.error(a)}return n}},{key:"del",value:function(e){this.isLocalStorageAvailable&&localStorage.removeItem(e)}}]),e}()},184:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),a=n(13),o=function(){function e(){Object(r.a)(this,e),this.data={}}return Object(a.a)(e,[{key:"set",value:function(e,t){this.data[e]=JSON.stringify(t)}},{key:"get",value:function(e,t){var n=this.data[e]||null;return n?JSON.parse(n):t}},{key:"del",value:function(e){delete this.data[e]}}]),e}()},185:function(e,t){},220:function(e,t,n){e.exports={UsersWrapper:"ManageUsers_UsersWrapper__3LuPT"}},243:function(e,t,n){e.exports={Wrapper:"ChatMessage_Wrapper__3RCRO"}},244:function(e,t,n){e.exports={Wrapper:"MainLayout_Wrapper__3_gRT"}},245:function(e,t,n){e.exports={SignInForm:"SignInUser_SignInForm__3yhMI"}},247:function(e,t,n){e.exports={Wrapper:"UnauthorizedLayout_Wrapper__3d0om"}},248:function(e,t,n){e.exports={ProfileForm:"Profile_ProfileForm__1Yh2v"}},250:function(e,t,n){e.exports={Wrapper:"AuthChecker_Wrapper__30FrR"}},254:function(e,t,n){e.exports=n(514)},305:function(e,t){},513:function(e,t,n){},514:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"MAIN",(function(){return E}));var a={};n.r(a),n.d(a,"USERS",(function(){return g}));var o={};n.r(o),n.d(o,"SIGN_UP",(function(){return k})),n.d(o,"SIGN_IN",(function(){return w})),n.d(o,"AUTH_ERROR",(function(){return S}));var c={};n.r(c),n.d(c,"PROFILE",(function(){return _}));var s={};n.r(s),n.d(s,"UsersModule",(function(){return we})),n.d(s,"MainModule",(function(){return Ge})),n.d(s,"AuthModule",(function(){return st})),n.d(s,"ProfileModule",(function(){return ft}));var u=n(0),i=n.n(u),l=n(9),p=n.n(l),m=n(34),f=n(30),h=n(6),d=n(13),v=n(23),b=n(19),O=n(22),y=function e(){Object(h.a)(this,e)},j=n(41),E="/",g="/users",k="/sign-up",w="/sign-in",S="/auth-error",_="/profile",x={mainRoutes:r,userRoutes:a,authRoutes:o,profileRoutes:c},I=n(3),U=n.n(I),R=n(14),T=n(12),N=n(217),F=n(520);n(214).config();var C={baseUrl:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).BASE_URL||"https://mysterious-cove-46705.herokuapp.com"},W=n(53),P=n(215),A=n.n(P),L=function(){function e(t,n){Object(h.a)(this,e),this.request=void 0,this.isRefreshing=!1,this.request=A.a.create({baseURL:t,headers:n,withCredentials:!1})}return Object(d.a)(e,[{key:"get",value:function(e){var t=e.url,n=e.data,r=e.options,a=Object(W.a)({data:n},r);return this.request.get(t,a)}},{key:"post",value:function(e){var t=e.url,n=e.data,r=e.options;return this.request.post(t,n,r)}},{key:"patch",value:function(e){var t=e.url,n=e.data,r=e.options;return this.request.patch(t,n,r)}},{key:"del",value:function(e){var t=e.url,n=e.data,r=e.options,a=Object(W.a)({url:t,data:n},r);return this.request.delete(t,a)}},{key:"put",value:function(e){var t=e.url,n=e.data,r=e.options;return this.request.put(t,n,Object(W.a)({},r))}},{key:"initInterceptors",value:function(e){var t=this,n=e.refreshTokenInterceptor;this.request.interceptors.response.use((function(e){return e}),(function(e){return 401!==e.response.status||t.isRefreshing||(t.isRefreshing=!0,n().catch((function(e){return e})).finally((function(){t.isRefreshing=!1}))),e}))}}]),e}(),q=n(45),D=n(48);var B,M=n(253),H=function(e){function t(e){var n;Object(h.a)(this,t);var r=e.config,a=e.status,o=e.request,c=e.response;return(n=Object(v.a)(this,Object(b.a)(t).call(this,c.data.message))).config=void 0,n.status=void 0,n.request=void 0,n.response=void 0,n.config=r,n.status=a,n.request=o,n.response=c,n}return Object(O.a)(t,e),t}(Object(M.a)(Error)),G=function(){function e(t,n){Object(h.a)(this,e),this.actions=void 0,this.storage=void 0,this.actions=t,this.storage=n}return Object(d.a)(e,[{key:"token",get:function(){return this.storage.get("token",null)},set:function(e){this.storage.set("token",e)}},{key:"refreshToken",get:function(){return this.storage.get("refreshToken",null)},set:function(e){this.storage.set("refreshToken",e)}}]),Object(d.a)(e,[{key:"setHeaders",value:function(){return{headers:{Authorization:this.token}}}}],[{key:"handleResponse",value:function(e,t){var n=function(){return t=e.data,Boolean(t.data)?e.data.data:e.data;var t}();if(function(e){return e>=400&&e<=503}(e.status)){var r=e.config,a=e.status,o=e.request;throw new H({config:r,status:a,request:o,response:e})}return t?t(n):n}}]),e}();function J(e){var t=e.user;return{id:t._id,name:t.name,surname:t.surname,email:t.email}}function K(e){return e.users.map((function(e){return J({user:e})}))}var z,V=(B=function(e){function t(){return Object(h.a)(this,t),Object(v.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(d.a)(t,[{key:"getUsers",value:function(){var e=Object(R.a)(U.a.mark((function e(){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.actions.get({url:"/users",options:this.setHeaders()});case 2:return n=e.sent,e.abrupt("return",t.handleResponse(n,K));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getUser",value:function(){var e=Object(R.a)(U.a.mark((function e(n){var r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.actions.get({url:"/users/".concat(n),options:this.setHeaders()});case 2:return r=e.sent,e.abrupt("return",t.handleResponse(r,J));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateUser",value:function(){var e=Object(R.a)(U.a.mark((function e(n,r){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.actions.put({url:"/users/".concat(n),data:r,options:this.setHeaders()});case 2:return a=e.sent,e.abrupt("return",t.handleResponse(a,J));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deleteUser",value:function(){var e=Object(R.a)(U.a.mark((function e(n){var r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.actions.del({url:"/users/".concat(n),options:this.setHeaders()});case 2:return r=e.sent,e.abrupt("return",t.handleResponse(r,J));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(G),Object(q.a)(B.prototype,"getUsers",[D.a],Object.getOwnPropertyDescriptor(B.prototype,"getUsers"),B.prototype),Object(q.a)(B.prototype,"getUser",[D.a],Object.getOwnPropertyDescriptor(B.prototype,"getUser"),B.prototype),Object(q.a)(B.prototype,"updateUser",[D.a],Object.getOwnPropertyDescriptor(B.prototype,"updateUser"),B.prototype),Object(q.a)(B.prototype,"deleteUser",[D.a],Object.getOwnPropertyDescriptor(B.prototype,"deleteUser"),B.prototype),B);function X(e){var t=e.user,n=e.token;return{data:{id:t._id,name:t.name,surname:t.surname,email:t.email},tokens:{accessToken:n.accessToken,refreshToken:n.refreshToken}}}var Y=(z=function(e){function t(){return Object(h.a)(this,t),Object(v.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(d.a)(t,[{key:"signUp",value:function(){var e=Object(R.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.actions.post({url:"/register",data:t});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signIn",value:function(){var e=Object(R.a)(U.a.mark((function e(n){var r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.actions.post({url:"/authenticate",data:n});case 2:return r=e.sent,e.abrupt("return",t.handleResponse(r,X));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInByToken",value:function(){var e=Object(R.a)(U.a.mark((function e(){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.actions.get({url:"/token-authenticate",options:this.setHeaders()});case 2:return n=e.sent,e.abrupt("return",t.handleResponse(n,X));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateTokens",value:function(){var e=Object(R.a)(U.a.mark((function e(){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.actions.post({url:"/authenticate/refresh",options:this.setHeaders(),data:{refreshToken:this.refreshToken}});case 2:return n=e.sent,e.abrupt("return",t.handleResponse(n,(function(e){return e.token})));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(G),Object(q.a)(z.prototype,"signUp",[D.a],Object.getOwnPropertyDescriptor(z.prototype,"signUp"),z.prototype),Object(q.a)(z.prototype,"signIn",[D.a],Object.getOwnPropertyDescriptor(z.prototype,"signIn"),z.prototype),Object(q.a)(z.prototype,"signInByToken",[D.a],Object.getOwnPropertyDescriptor(z.prototype,"signInByToken"),z.prototype),Object(q.a)(z.prototype,"updateTokens",[D.a],Object.getOwnPropertyDescriptor(z.prototype,"updateTokens"),z.prototype),z),$=n(216),Q=n.n($),Z=function e(){Object(h.a)(this,e),this.io=void 0,this.io=Q.a.connect("http://localhost:8081/",{transports:["websocket"],forceNew:!0,port:"8081"}),this.io.on("connect",(function(){return console.info("Socket connected")}))},ee=function(){function e(t){Object(h.a)(this,e),this.storage=t,this.actions=void 0,this.socket=void 0,this.headers={},this.users=void 0,this.auth=void 0,this.actions=new L(C.baseUrl,this.headers),this.socket=new Z,this.users=new V(this.actions,t),this.auth=new Y(this.actions,t)}return Object(d.a)(e,[{key:"initAuthInterceptors",value:function(e){this.actions.initInterceptors(e)}}]),e}(),te=n(124),ne=i.a.createContext(null),re=function(e){var t=e.children,n=te.LocalStorage.checkAvailability()?new te.LocalStorage:new te.MemoryStorage,r=new ee(n);return i.a.createElement(ne.Provider,{value:r},t)};function ae(){var e=Object(u.useContext)(ne);if(!e)throw new Error("Api React Context is not defined");return e}var oe=i.a.createContext(null),ce=function(e){var t,n=e.children,r=ae(),a=(t=r.storage,{getToken:function(){return t.get("token",null)},setToken:function(e,n){t.set("token",e),t.set("refreshToken",n)},resetToken:function(){t.del("token"),t.del("refreshToken")}}),o=a.getToken,c=a.setToken,s=a.resetToken,l=Object(N.a)(),p=Boolean(o()),m=Object(u.useState)(p),f=Object(T.a)(m,2),h=f[0],d=f[1],v=Object(u.useState)(""),b=Object(T.a)(v,2)[1],O=Object(u.useState)(null),y=Object(T.a)(O,2),j=y[0],E=y[1],g=function(){var e=Object(R.a)(U.a.mark((function e(){var t,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),e.next=4,r.auth.updateTokens();case 4:return t=e.sent,l()&&c(t.accessToken,t.refreshToken),e.next=8,r.auth.signInByToken();case 8:n=e.sent,l()&&E(n.data),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),l()&&b(e.t0.message);case 15:return e.prev=15,l()&&d(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,12,15,18]])})));return function(){return e.apply(this,arguments)}}();return Object(F.a)(Object(R.a)(U.a.mark((function e(){var t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.initAuthInterceptors({refreshTokenInterceptor:g}),j||!o()){e.next=17;break}return e.prev=2,d(!0),e.next=6,r.auth.signInByToken();case 6:t=e.sent,l()&&E(t.data),l()&&c(t.tokens.accessToken,t.tokens.refreshToken),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),l()&&b(e.t0.message);case 14:return e.prev=14,l()&&d(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})))),i.a.createElement(oe.Provider,{value:{user:j,setAuth:function(e,t,n){E(e),c(t,n)},resetAuth:function(){E(null),s()},isLoading:h}},n)},se=function(e){var t=e.component,n=e.location,r=Object(j.a)(e,["component","location"]),a=Object(u.useContext)(oe),o=void 0!==t?t:function(){return null};return i.a.createElement(f.b,Object.assign({key:null===n||void 0===n?void 0:n.pathname},r,{render:function(){return i.a.createElement(i.a.Fragment,null,(null===a||void 0===a?void 0:a.user)?i.a.createElement(o,null):i.a.createElement(f.a,{to:x.authRoutes.AUTH_ERROR}))}}))},ue=n(518),ie=n(77),le=n(516),pe=n(220),me=n.n(pe),fe=ue.a.Text,he=function(){var e=ae(),t=Object(f.g)(),n=Object(N.a)(),r=Object(u.useState)(!1),a=Object(T.a)(r,2),o=a[0],c=a[1],s=Object(u.useState)(""),l=Object(T.a)(s,2),p=l[0],m=l[1],h=Object(u.useState)([]),d=Object(T.a)(h,2),v=d[0],b=d[1],O=Object(u.useCallback)(Object(R.a)(U.a.mark((function t(){var r;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c(!0),t.next=4,e.users.getUsers();case 4:r=t.sent,n()&&b(r.map((function(e,t){return Object(W.a)({},e,{key:t})}))),n()&&m(""),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n()&&m(t.t0.message);case 12:return t.prev=12,n()&&c(!1),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[0,9,12,15]])}))),[e.users,n]),y=function(){var t=Object(R.a)(U.a.mark((function t(r){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c(!0),t.next=4,e.users.deleteUser(r);case 4:n()&&m(""),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n()&&m(t.t0.message);case 10:return t.prev=10,n()&&c(!1),t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[0,7,10,13]])})));return function(e){return t.apply(this,arguments)}}(),j=function(e){return Object(R.a)(U.a.mark((function t(){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(e);case 2:return t.next=4,O();case 4:case"end":return t.stop()}}),t)})))},E=[{title:"ID",dataIndex:"id",key:"id"},{title:"Name",dataIndex:"name",key:"name"},{title:"Surname",dataIndex:"surname",key:"surname"},{title:"Email",dataIndex:"email",key:"email"},{title:"Actions",dataIndex:"",key:"x",render:function(e,n){return i.a.createElement(i.a.Fragment,null,i.a.createElement(ie.a,{type:"link",onClick:(r=n.id,function(){t.push("".concat(x.profileRoutes.PROFILE,"/").concat(r))})},"Edit"),i.a.createElement(ie.a,{type:"link",onClick:j(n.id)},"Delete"));var r}}];return Object(u.useEffect)((function(){O()}),[O]),i.a.createElement("div",{className:me.a.UsersWrapper},i.a.createElement(le.a,{dataSource:v,columns:E,loading:o,bordered:!0}),p&&i.a.createElement(fe,{type:"danger"},p))},de=n(125),ve=n.n(de),be=n(76),Oe=n(126),ye=n.n(Oe),je=[{route:x.mainRoutes.MAIN,title:"Main"},{route:x.userRoutes.USERS,title:"Users"}],Ee=function(){var e=Object(u.useContext)(oe),t=Object(f.h)(),n=Object(u.useState)(t.pathname),r=Object(T.a)(n,2),a=r[0],o=r[1];return i.a.createElement("header",null,i.a.createElement(be.a,{onClick:function(e){o(e.key)},selectedKeys:[a],mode:"horizontal"},je.map((function(e){var t=e.route,n=e.title;return i.a.createElement(be.a.Item,{key:t},i.a.createElement(m.b,{to:t,key:t},n))})),(null===e||void 0===e?void 0:e.user)?i.a.createElement(be.a.Item,{key:x.profileRoutes.PROFILE,className:ye.a.Button},i.a.createElement(m.b,{to:"".concat(x.profileRoutes.PROFILE,"/").concat(e.user.id)},e.user.email)):i.a.createElement(be.a.Item,{key:x.authRoutes.SIGN_IN,className:ye.a.Button},i.a.createElement(m.b,{to:x.authRoutes.SIGN_IN},"Sign In")),!(null===e||void 0===e?void 0:e.user)&&i.a.createElement(be.a.Item,{key:x.authRoutes.SIGN_UP,className:ye.a.Button},i.a.createElement(m.b,{to:x.authRoutes.SIGN_UP},"Sign Up"))))},ge=function(e){var t=e.withFooter,n=e.children;return i.a.createElement("div",{className:ve.a.Wrapper},i.a.createElement(Ee,null),i.a.createElement("main",{className:ve.a.Content},n),t&&i.a.createElement("footer",{className:ve.a.Footer},"clicktronix@hotmail.com"))},ke=function(){return i.a.createElement(ge,{withFooter:!0},i.a.createElement(he,null))},we=function(e){function t(){return Object(h.a)(this,t),Object(v.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(d.a)(t,null,[{key:"getRoutes",value:function(){return[u.createElement(se,{path:g,component:ke,exact:!0})]}}]),t}(y),Se=n(18),_e=n(15),xe=n(1),Ie=n.n(xe),Ue=n(44);var Re=n(519),Te=ue.a.Text,Ne=function(e){var t=e.error,n=e.password,r=Object(j.a)(e,["error","password"]);return i.a.createElement(i.a.Fragment,null,n?i.a.createElement(Re.a.Password,r):i.a.createElement(Re.a,r),t&&i.a.createElement(Te,{type:"danger"},t))};var Fe=function(e,t){var n=function(n){return i.a.createElement(Ue.a,Object.assign({type:t},n,{component:e}))};return n.displayName="FieldWithComponent(".concat(e.displayName||e.name||"Component",")"),n}((function(e){var t=e.input,n=e.meta,r=Object(j.a)(e,["input","meta"]),a=n.touched&&r.error||n.touched&&n.error?n.error:void 0;return i.a.createElement(Ne,Object.assign({},t,{error:a},r))})),Ce=n(55),We=n.n(Ce),Pe=n(243),Ae=n.n(Pe),Le=function(e){var t=e.children;return i.a.createElement("div",{className:Ae.a.Wrapper},t)},qe=ue.a.Text,De=function(){var e=Object(u.useState)(!1),t=Object(T.a)(e,2),n=t[0],r=t[1],a=Object(u.useState)(!1),o=Object(T.a)(a,1)[0],c=Object(u.useState)(""),s=Object(T.a)(c,1)[0],l=Object(u.useState)([]),p=Object(T.a)(l,2),m=p[0],f=p[1];return i.a.createElement("div",{className:We.a.Window},i.a.createElement("div",{className:We.a.Header,onClick:function(){r((function(e){return!e}))}},"Chat"),i.a.createElement(Ue.b,{onSubmit:function(e){f((function(t){return[].concat(Object(_e.a)(t),[e.message])}))},render:function(e){var t,r,a=e.handleSubmit;return i.a.createElement("form",{onSubmit:a,autoComplete:"off"},i.a.createElement("div",{className:Ie()(We.a.Content,(t={},Object(Se.a)(t,We.a.SlideUp,n),Object(Se.a)(t,We.a.SlideDown,!n),t))},m.map((function(e,t){return i.a.createElement(Le,{key:t},e)}))),i.a.createElement("div",{className:Ie()(We.a.InputWrapper,(r={},Object(Se.a)(r,We.a.SlideUp,n),Object(Se.a)(r,We.a.SlideDown,!n),r))},i.a.createElement(Fe,{name:"message",placeholder:"Enter your message"}),i.a.createElement(ie.a,{type:"primary",htmlType:"submit",loading:o},"Send")),s&&i.a.createElement(qe,{type:"danger"},s))},subscription:{}}))},Be=n(244),Me=n.n(Be),He=function(){return i.a.createElement(ge,{withFooter:!0},i.a.createElement("div",{className:Me.a.Wrapper},i.a.createElement("h1",null,"Main page"),i.a.createElement(De,null)))},Ge=function(e){function t(){return Object(h.a)(this,t),Object(v.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(d.a)(t,null,[{key:"getRoutes",value:function(){return[u.createElement(f.b,{path:E,component:He,exact:!0})]}}]),t}(y),Je=n(517);function Ke(e){return function(t){return t?void 0:e}}function ze(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){return t||n(e)}),void 0)}}var Ve=n(245),Xe=n.n(Ve),Ye=ue.a.Text,$e=function(){var e=ae(),t=Object(f.g)(),n=Object(N.a)(),r=Object(u.useContext)(oe),a=Object(u.useState)(!1),o=Object(T.a)(a,2),c=o[0],s=o[1],l=Object(u.useState)(""),p=Object(T.a)(l,2),m=p[0],h=p[1],d=function(){var a=Object(R.a)(U.a.mark((function a(o){var c,u,i;return U.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,s(!0),a.next=4,e.auth.signIn(o);case 4:c=a.sent,u=c.data,i=c.tokens,null===r||void 0===r||r.setAuth(u,i.accessToken,i.refreshToken),n&&t.push(x.mainRoutes.MAIN),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),n&&h(a.t0.message);case 14:return a.prev=14,n&&s(!1),a.finish(14);case 17:case"end":return a.stop()}}),a,null,[[0,11,14,17]])})));return function(e){return a.apply(this,arguments)}}();return i.a.createElement(Ue.b,{onSubmit:function(e){return d(e)},render:function(e){var t=e.handleSubmit;return i.a.createElement("div",{className:Xe.a.SignInForm},i.a.createElement("h1",null,"Sign In"),i.a.createElement(Je.a,{onFinish:t},i.a.createElement(Je.a.Item,null,i.a.createElement(Fe,{name:"email",placeholder:"Enter your email",validate:ze(Ke("Field required"))})),i.a.createElement(Je.a.Item,null,i.a.createElement(Fe,{name:"password",placeholder:"Enter your password",validate:ze(Ke("Field required")),password:!0})),i.a.createElement(Je.a.Item,null,i.a.createElement(ie.a,{type:"primary",htmlType:"submit",loading:c},"Sign In")),m&&i.a.createElement(Ye,{type:"danger"},m)))},subscription:{}})},Qe=function(){return i.a.createElement(ge,{withFooter:!0},i.a.createElement($e,null))},Ze=n(158),et=n.n(Ze),tt=ue.a.Text,nt=function(){var e=ae(),t=Object(N.a)(),n=Object(u.useState)(!1),r=Object(T.a)(n,2),a=r[0],o=r[1],c=Object(u.useState)(""),s=Object(T.a)(c,2),l=s[0],p=s[1],m=function(){var n=Object(R.a)(U.a.mark((function n(r){return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o(!0),n.next=4,e.auth.signUp(r);case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t&&p(n.t0.message);case 9:return n.prev=9,t&&o(!1),n.finish(9);case 12:case"end":return n.stop()}}),n,null,[[0,6,9,12]])})));return function(e){return n.apply(this,arguments)}}();return i.a.createElement(Ue.b,{onSubmit:function(e){return m(e)},render:function(e){var t=e.handleSubmit;return i.a.createElement("div",{className:et.a.SignUpForm},i.a.createElement("h1",null,"Sign Up"),i.a.createElement(Je.a,{onFinish:t,className:et.a.SignInForm},i.a.createElement(Je.a.Item,null,i.a.createElement(Fe,{name:"name",placeholder:"Enter your name",validate:ze(Ke("Field required"))})),i.a.createElement(Je.a.Item,null,i.a.createElement(Fe,{name:"surname",placeholder:"Enter your surname",validate:ze(Ke("Field required"))})),i.a.createElement(Je.a.Item,null,i.a.createElement(Fe,{name:"email",placeholder:"Enter your email",validate:ze(Ke("Field required"))})),i.a.createElement(Je.a.Item,null,i.a.createElement(Fe,{name:"password",placeholder:"Enter your password",validate:ze(Ke("Field required")),password:!0})),i.a.createElement(Je.a.Item,null,i.a.createElement(ie.a,{type:"primary",htmlType:"submit",loading:a},"Sign Up")),l&&i.a.createElement(tt,{type:"danger"},l)))},subscription:{}})},rt=function(){return i.a.createElement(ge,{withFooter:!0},i.a.createElement(nt,null))},at=n(247),ot=n.n(at),ct=function(){return i.a.createElement(ge,{withFooter:!0},i.a.createElement("div",{className:ot.a.Wrapper},"Sorry, but you need to"," ",i.a.createElement(m.b,{to:x.authRoutes.SIGN_IN},"sign in")," ","to view this page."))},st=function(e){function t(){return Object(h.a)(this,t),Object(v.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(d.a)(t,null,[{key:"getRoutes",value:function(){return[u.createElement(f.b,{exact:!0,key:w,path:w,component:Qe}),u.createElement(f.b,{exact:!0,key:k,path:k,component:rt}),u.createElement(f.b,{exact:!0,key:S,path:S,component:ct})]}}]),t}(y),ut=n(248),it=n.n(ut),lt=ue.a.Text,pt=function(){var e,t=ae(),n=Object(u.useContext)(oe),r=Object(f.i)().userId,a=Object(N.a)(),o=Object(u.useState)(""),c=Object(T.a)(o,2),s=c[0],l=c[1],p=Object(u.useState)({name:"",surname:"",email:"",password:"",newPassword:""}),m=Object(T.a)(p,2),h=m[0],d=m[1],v=Object(u.useState)(!1),b=Object(T.a)(v,2),O=b[0],y=b[1],j=r===(null===n||void 0===n||null===(e=n.user)||void 0===e?void 0:e.id),E=Object(u.useCallback)(Object(R.a)(U.a.mark((function e(){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=16;break}return e.prev=1,y(!0),e.next=5,t.users.getUser(r);case 5:n=e.sent,a()&&d((function(e){return Object(W.a)({},e,{},n)})),a()&&l(""),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),a()&&l(e.t0.message);case 13:return e.prev=13,a()&&y(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])}))),[t.users,a,r]),g=function(){var e=Object(R.a)(U.a.mark((function e(n){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,y(!0),e.t0=r,!e.t0){e.next=6;break}return e.next=6,t.users.updateUser(r,Object(W.a)({},n,{id:r}));case 6:a()&&l(""),e.next=12;break;case 9:e.prev=9,e.t1=e.catch(0),a()&&l(e.t1.message);case 12:return e.prev=12,a()&&y(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(t){return e.apply(this,arguments)}}();Object(u.useEffect)((function(){E()}),[E]);return i.a.createElement(Ue.b,{onSubmit:function(e){return g(e)},render:function(e){var t=e.handleSubmit;return i.a.createElement("div",{className:it.a.ProfileForm},i.a.createElement("h1",null,"Edit"," ",null===h||void 0===h?void 0:h.name,"'s ","profile"),i.a.createElement(Je.a,{onFinish:t},i.a.createElement(Je.a.Item,null,i.a.createElement(Fe,{name:"name",placeholder:"Enter your name"})),i.a.createElement(Je.a.Item,null,i.a.createElement(Fe,{name:"surname",placeholder:"Enter your surname"})),i.a.createElement(Je.a.Item,null,i.a.createElement(Fe,{name:"email",placeholder:"Enter your email"})),j&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Je.a.Item,null,i.a.createElement(Fe,{name:"password",placeholder:"Enter your current password",password:!0})),i.a.createElement(Je.a.Item,null,i.a.createElement(Fe,{name:"newPassword",placeholder:"Enter your new password",password:!0}))),i.a.createElement(Je.a.Item,null,i.a.createElement(ie.a,{type:"primary",htmlType:"submit",loading:O},"Save")),s&&i.a.createElement(lt,{type:"danger"},s)))},initialValues:h,subscription:{}})},mt=function(){return i.a.createElement(ge,{withFooter:!0},i.a.createElement(pt,null))},ft=function(e){function t(){return Object(h.a)(this,t),Object(v.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(d.a)(t,null,[{key:"getRoutes",value:function(){return[u.createElement(se,{path:"".concat(_,"/:userId"),component:mt,exact:!0})]}}]),t}(y),ht=n(155),dt=n.n(ht),vt=(n(482),function(e){var t=e.children;return i.a.createElement(dt.a,null,i.a.createElement(re,null,i.a.createElement(ce,null,t)))}),bt=n(239),Ot=n(250),yt=n.n(Ot),jt=function(e){var t=e.children,n=Object(u.useContext)(oe);return i.a.createElement(i.a.Fragment,null,(null===n||void 0===n?void 0:n.isLoading)?i.a.createElement(ge,{withFooter:!0},i.a.createElement("div",{className:yt.a.Wrapper},i.a.createElement(bt.a,{size:"large"}))):t)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(513);p.a.render(i.a.createElement((function(){return i.a.createElement(m.a,null,i.a.createElement(vt,null,i.a.createElement(jt,null,i.a.createElement(f.b,{path:"/"},i.a.createElement(f.d,null,Object.values(s).map((function(e){return e.getRoutes()})),i.a.createElement(f.a,{to:x.mainRoutes.MAIN}))))))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},55:function(e,t,n){e.exports={Window:"Chat_Window__2UqRv",Header:"Chat_Header__2AJs4",Content:"Chat_Content__1oWoC",InputWrapper:"Chat_InputWrapper__P0-h6",SlideUp:"Chat_SlideUp__30-Tx",SlideDown:"Chat_SlideDown__1NjUx"}}},[[254,1,2]]]);
//# sourceMappingURL=main.8904d8b6.chunk.js.map